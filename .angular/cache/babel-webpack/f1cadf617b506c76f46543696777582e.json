{"ast":null,"code":"import { __decorate } from \"tslib\";\nimport { Injectable } from '@angular/core';\nlet GoodsService = class GoodsService {\n  constructor(fs, fStorage) {\n    this.fs = fs;\n    this.fStorage = fStorage;\n  }\n\n  getAllGoods() {\n    return this.fs.collection('goods').snapshotChanges();\n  }\n\n  addNewGood(name, price, image) {\n    return new Promise((resolve, reject) => {\n      let ref = this.fStorage.ref('goods/' + image.name);\n      ref.put(image).then(() => {\n        ref.getDownloadURL().subscribe(imageUrl => {\n          this.fs.collection('goods').add({\n            name,\n            price,\n            imageUrl\n          }).then(() => resolve('Product added'));\n        });\n      });\n    });\n  }\n\n};\nGoodsService = __decorate([Injectable({\n  providedIn: 'root'\n})], GoodsService);\nexport { GoodsService };","map":null,"metadata":{},"sourceType":"module"}